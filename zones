import requests
import json
import sys

class DNSFinder(object):

    def __init__(self, user_name, key):
        self.user_name = user_name
        self.key = key

    def getAuth(self):
        url = "https://identity.api.rackspacecloud.com/v2.0/tokens"
        payload = {
            "auth": {
                "RAX-KSKEY:apiKeyCredentials": {
                    "username": user_name,
                    "apiKey": key
                }
            }
        }
        header = {"content-type": "application/json"}

        try:
            response = requests.post(url, data=json.dumps(payload), headers=header)
        except ValueError, e:
            print "WARNING - invalid response from server: %s" % response.text
            sys.exit(1)

        auth_info = {
            "account":response['access']['token']['tenant']['id'],
            "token":response['access']['token']['id']
        }

        return auth_info

    def getZones(self, auth):
        url = ( "https://dns.api.rackspacecloud.com/v1.0/948155" )
        header = {"X-Auth-Token: token}

def main():
